<div class="form-container">
  <div class="form-card">
    <%= form_with(model: @student, local: true) do |form| %>
      <h2 class="form-card-title">
        <%= @student.new_record? ? "New Student" : "Edit Student" %>
      </h2>

      <div class="form-row">
        <!-- LEFT: photo preview + upload -->
        <div class="form-photo">
            <div class="photo-preview-box"></div>
          <div class="form-group mt-2">
            <%= form.label :profile_picture %>
            <%= form.file_field :profile_picture, class: "form-control" %>
          </div>
        </div>

        <!-- RIGHT: all the other fields -->
        <div class="form-fields">
          <div class="form-group">
            <%= form.label :first_name %>
            <%= form.text_field :first_name, class: "form-control" %>
          </div>
          <div class="form-group">
            <%= form.label :last_name %>
            <%= form.text_field :last_name, class: "form-control" %>
          </div>
          
          <div class="form-group">
            <%= form.label :course %>

            <%= form.text_field :course, 
                list: "course-list",
                class: "form-control",
                placeholder: "Select or type a class..." %>
            <datalist id="course-list">
              <% @courses.each do |c| %>
                <option value="<%= c %>"><%= c %></option>
              <% end %>
              
          </div>
        </div>
      </div>

      <div class="form-actions mt-4">
        <%= form.submit class: "btn btn-nu" %>
        <%= link_to 'Cancel', students_path, class: "btn-nu-secondary" %>
      </div>
    <% end %>
  </div>
</div>